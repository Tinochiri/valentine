<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine Mission</title>
  <style>
    :root {
      --bg1: #0b0b12;
      --bg2: #1b0b1a;
      --card: rgba(255,255,255,0.08);
      --border: rgba(255,255,255,0.14);
      --text: rgba(255,255,255,0.92);
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      height: 100vh;
      display: grid;
      place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 800px at 20% 20%, #ff2d7a22, transparent 60%),
                  radial-gradient(1200px 800px at 80% 80%, #8a2be222, transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow: hidden;
    }

    .card {
      width: min(560px, 92vw);
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 22px;
      padding: 28px 22px;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 60px rgba(0,0,0,0.45);
      text-align: center;
      position: relative;
    }

    h1 {
      margin: 0 0 10px;
      font-size: clamp(22px, 5vw, 34px);
      letter-spacing: 0.2px;
    }

    p {
      margin: 0 0 18px;
      opacity: 0.9;
      line-height: 1.45;
      font-size: 15.5px;
    }

    .arena {
      position: relative;
      width: 100%;
      height: 240px;
      border-radius: 18px;
      border: 1px dashed rgba(255,255,255,0.22);
      overflow: hidden;
      background: rgba(0,0,0,0.15);
      margin-top: 10px;
    }

    .btn {
      border: none;
      padding: 12px 16px;
      border-radius: 14px;
      font-weight: 650;
      cursor: pointer;
      transition: transform .08s ease, box-shadow .18s ease, left .3s ease, top .3s ease;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      position: absolute;
      min-width: 120px;
    }
    .btn:active { transform: scale(0.98); }

    #yes {
      background: linear-gradient(135deg, #ff3b8d, #ff6b3d);
      color: white;
      box-shadow: 0 10px 24px rgba(255, 59, 141, 0.25);
      left: 18px;
      top: 140px;
    }

    #no {
      background: rgba(255,255,255,0.12);
      color: rgba(255,255,255,0.92);
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 10px 24px rgba(0,0,0,0.25);
      right: 18px;
      top: 140px;
    }

    .result {
      margin-top: 14px;
      font-size: 15px;
      opacity: 0.95;
      min-height: 20px;
    }

    .tiny {
      margin-top: 8px;
      font-size: 12.5px;
      opacity: 0.7;
    }

    .floating-heart {
      position: fixed;
      font-size: 30px;
      opacity: 0.3;
      animation: float 8s infinite ease-in-out;
      pointer-events: none;
      z-index: 1;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-30px) rotate(10deg); }
    }

    .explosion {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9999;
    }

    .exploding-heart {
      position: absolute;
      font-size: 40px;
      animation: explode 2s ease-out forwards;
    }

    @keyframes explode {
      0% {
        transform: translate(0, 0) scale(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) scale(1.5) rotate(720deg);
        opacity: 0;
      }
    }

    /* Pulsing glow on YES button */
    #yes {
      animation: pulse-glow 1.5s infinite;
    }

    @keyframes pulse-glow {
      0%, 100% {
        box-shadow: 0 10px 24px rgba(255, 59, 141, 0.25);
      }
      50% {
        box-shadow: 0 10px 40px rgba(255, 59, 141, 0.6), 0 0 30px rgba(255, 59, 141, 0.4);
      }
    }

    /* Sparkle cursor trail */
    .sparkle {
      position: fixed;
      pointer-events: none;
      font-size: 20px;
      animation: sparkle-fade 1s ease-out forwards;
      z-index: 9998;
    }

    @keyframes sparkle-fade {
      0% {
        transform: scale(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: scale(1.5) rotate(180deg);
        opacity: 0;
      }
    }

    /* Raining hearts */
    .rain-heart {
      position: fixed;
      top: -50px;
      font-size: 25px;
      animation: rain-fall 4s linear forwards;
      pointer-events: none;
      z-index: 9997;
    }

    @keyframes rain-fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0.5;
      }
    }

    /* Screen shake */
    @keyframes shake {
      0%, 100% { transform: translate(0, 0); }
      10% { transform: translate(-10px, -5px); }
      20% { transform: translate(10px, 5px); }
      30% { transform: translate(-10px, 5px); }
      40% { transform: translate(10px, -5px); }
      50% { transform: translate(-5px, 10px); }
      60% { transform: translate(5px, -10px); }
      70% { transform: translate(-5px, -5px); }
      80% { transform: translate(5px, 5px); }
      90% { transform: translate(-5px, 5px); }
    }

    .shake {
      animation: shake 0.5s;
    }

    /* Flash effect */
    .flash {
      position: fixed;
      inset: 0;
      background: rgba(255, 255, 255, 0.8);
      pointer-events: none;
      z-index: 9996;
      animation: flash-fade 0.3s ease-out;
    }

    @keyframes flash-fade {
      0% { opacity: 1; }
      100% { opacity: 0; }
    }

    /* Confetti */
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      animation: confetti-fall 3s ease-out forwards;
    }

    @keyframes confetti-fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(var(--fall-distance)) rotate(var(--rotation));
        opacity: 0;
      }
    }

    /* Fireworks */
    .firework {
      position: fixed;
      width: 5px;
      height: 5px;
      border-radius: 50%;
      animation: firework-burst 1s ease-out forwards;
    }

    @keyframes firework-burst {
      0% {
        transform: translate(0, 0);
        opacity: 1;
      }
      100% {
        transform: translate(var(--fx), var(--fy));
        opacity: 0;
      }
    }

    /* Pink background shift */
    body.celebrating {
      background: radial-gradient(1200px 800px at 20% 20%, #ff2d7a55, transparent 60%),
                  radial-gradient(1200px 800px at 80% 80%, #ff1493aa, transparent 60%),
                  linear-gradient(135deg, #1a0a15, #2a0a25);
      transition: background 2s ease;
    }
  </style>
</head>

<body>
  <!-- Floating background hearts -->
  <div class="floating-heart" style="left: 10%; top: 15%; animation-delay: 0s;">üíï</div>
  <div class="floating-heart" style="left: 85%; top: 25%; animation-delay: 1s;">üíñ</div>
  <div class="floating-heart" style="left: 20%; top: 70%; animation-delay: 2s;">üíó</div>
  <div class="floating-heart" style="left: 75%; top: 65%; animation-delay: 1.5s;">üíù</div>
  <div class="floating-heart" style="left: 50%; top: 10%; animation-delay: 0.5s;">üíì</div>
  <div class="floating-heart" style="left: 35%; top: 80%; animation-delay: 2.5s;">üíû</div>
  <div class="floating-heart" style="left: 90%; top: 50%; animation-delay: 3s;">‚ù§Ô∏è</div>
  <div class="floating-heart" style="left: 5%; top: 45%; animation-delay: 1.8s;">üíó</div>

  <div class="card">
    <h1>Maxine, will you be my Valentine? üíò</h1>
    <p>Choose wisely. One option is‚Ä¶ suspiciously hard to click üò≠</p>

    <div class="arena" id="arena" aria-label="button arena">
      <button class="btn" id="yes">YES üòç</button>
      <button class="btn" id="no">no üôÉ</button>
    </div>

    <div class="result" id="result"></div>
    <div class="tiny">Tip: try to catch the YES button. Good luck, champion.</div>
    <div class="tiny" style="margin-top: 16px; font-size: 14px; opacity: 0.85;">till 3005 üí´</div>
  </div>

  <script>
    const arena = document.getElementById("arena");
    const yesBtn = document.getElementById("yes");
    const noBtn = document.getElementById("no");
    const result = document.getElementById("result");

    // Place buttons nicely on load
    function centerish() {
      const a = arena.getBoundingClientRect();
      yesBtn.style.left = "18px";
      yesBtn.style.top = (a.height - 78) + "px";
      noBtn.style.right = "18px";
      noBtn.style.top = (a.height - 78) + "px";
    }
    window.addEventListener("resize", centerish);
    centerish();

    function clamp(n, min, max) {
      return Math.max(min, Math.min(max, n));
    }

    // Bounce counter - YES bounces a few times before running away
    let bounceCount = 0;
    const maxBounces = 3; // Will bounce 3 times before starting to flee

    // Move YES to a random spot within the arena
    function flee() {
      bounceCount++;
      
      // If haven't bounced enough times yet, just do a small bounce
      if (bounceCount <= maxBounces) {
        yesBtn.style.transform = 'scale(1.1)';
        setTimeout(() => {
          yesBtn.style.transform = 'scale(1)';
        }, 150);
        return; // Don't actually flee yet
      }
      
      // After bouncing, start fleeing
      const a = arena.getBoundingClientRect();
      const b = yesBtn.getBoundingClientRect();

      // button size
      const bw = b.width;
      const bh = b.height;

      // random coordinates inside arena padding
      const padding = 10;
      const maxX = a.width - bw - padding;
      const maxY = a.height - bh - padding;

      const x = Math.random() * maxX + padding;
      const y = Math.random() * maxY + padding;

      yesBtn.style.left = `${clamp(x, padding, maxX)}px`;
      yesBtn.style.top = `${clamp(y, padding, maxY)}px`;
    }

    // Desktop: run away when hovered
    yesBtn.addEventListener("mouseenter", flee);

    // Mobile: run away when finger gets close (touch/move)
    arena.addEventListener("touchmove", (e) => {
      const touch = e.touches[0];
      if (!touch) return;

      const a = arena.getBoundingClientRect();
      const b = yesBtn.getBoundingClientRect();

      // distance from touch to center of yes button
      const cx = b.left + b.width / 2;
      const cy = b.top + b.height / 2;
      const dx = touch.clientX - cx;
      const dy = touch.clientY - cy;
      const dist = Math.hypot(dx, dy);

      // when close, flee
      if (dist < 120) flee();
    }, { passive: true });

    // Extra: if they somehow click YES, celebrate
    yesBtn.addEventListener("click", () => {
      result.textContent = "YES?! üò≠ okay okay you win. See you on Valentine's üíê";
      yesBtn.disabled = true;
      noBtn.disabled = true;
      yesBtn.style.filter = "grayscale(0.1)";
      
      // HEART EXPLOSION!
      explodeHearts();
    });

    function explodeHearts() {
      // üì≥ SCREEN SHAKE
      document.body.classList.add('shake');
      setTimeout(() => document.body.classList.remove('shake'), 500);
      
      // ‚ö° FLASH EFFECT
      const flash = document.createElement('div');
      flash.className = 'flash';
      document.body.appendChild(flash);
      setTimeout(() => flash.remove(), 300);
      
      // üåà BACKGROUND COLOR SHIFT
      document.body.classList.add('celebrating');
      
      // üí• HEART EXPLOSION
      const explosionContainer = document.createElement('div');
      explosionContainer.className = 'explosion';
      document.body.appendChild(explosionContainer);

      const hearts = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíû', '‚ù§Ô∏è', 'üíò'];
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;

      // Create 50 exploding hearts
      for (let i = 0; i < 50; i++) {
        const heart = document.createElement('div');
        heart.className = 'exploding-heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        
        // Random angle and distance
        const angle = (Math.PI * 2 * i) / 50;
        const distance = 300 + Math.random() * 400;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance;
        
        heart.style.left = centerX + 'px';
        heart.style.top = centerY + 'px';
        heart.style.setProperty('--tx', tx + 'px');
        heart.style.setProperty('--ty', ty + 'px');
        heart.style.animationDelay = (Math.random() * 0.3) + 's';
        
        explosionContainer.appendChild(heart);
      }

      // Remove explosion container after animation
      setTimeout(() => {
        explosionContainer.remove();
      }, 2500);
      
      // üéä CONFETTI EXPLOSION
      createConfetti();
      
      // üéÜ FIREWORKS in corners
      setTimeout(() => createFirework(100, 100), 300);
      setTimeout(() => createFirework(window.innerWidth - 100, 100), 500);
      setTimeout(() => createFirework(100, window.innerHeight - 100), 700);
      setTimeout(() => createFirework(window.innerWidth - 100, window.innerHeight - 100), 900);
      setTimeout(() => createFirework(window.innerWidth / 2, 100), 1100);
      
      // üåßÔ∏è START RAINING HEARTS
      setTimeout(() => startRainingHearts(), 1000);
    }

    // If they click no, guilt-trip lightly (optional)
    noBtn.addEventListener("click", () => {
      result.textContent = "Ouch üòî ‚Ä¶but I respect it. (The YES button is still running though.)";
      // Make YES slightly easier after a no, so it feels fair
      yesBtn.removeEventListener("mouseenter", flee);
      yesBtn.addEventListener("mouseenter", () => setTimeout(flee, 180));
    });

    // ‚ú® SPARKLE CURSOR TRAIL ‚ú®
    const sparkles = ['‚ú®', '‚≠ê', 'üí´', 'üåü', '‚ú¶'];
    let lastSparkle = 0;
    
    document.addEventListener("mousemove", (e) => {
      const now = Date.now();
      if (now - lastSparkle > 50) { // Throttle sparkles
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];
        sparkle.style.left = e.clientX + 'px';
        sparkle.style.top = e.clientY + 'px';
        document.body.appendChild(sparkle);
        
        setTimeout(() => sparkle.remove(), 1000);
        lastSparkle = now;
      }
    });

    // üéÜ FIREWORKS FUNCTION üéÜ
    function createFirework(x, y) {
      const colors = ['#ff3b8d', '#ff6b3d', '#8a2be2', '#ffd700', '#ff1493'];
      const particles = 30;
      
      for (let i = 0; i < particles; i++) {
        const firework = document.createElement('div');
        firework.className = 'firework';
        firework.style.left = x + 'px';
        firework.style.top = y + 'px';
        firework.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        
        const angle = (Math.PI * 2 * i) / particles;
        const distance = 100 + Math.random() * 100;
        firework.style.setProperty('--fx', Math.cos(angle) * distance + 'px');
        firework.style.setProperty('--fy', Math.sin(angle) * distance + 'px');
        
        document.body.appendChild(firework);
        setTimeout(() => firework.remove(), 1000);
      }
    }

    // üåßÔ∏è RAINING HEARTS FUNCTION üåßÔ∏è
    function startRainingHearts() {
      const hearts = ['üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíû', '‚ù§Ô∏è', 'üíò'];
      
      setInterval(() => {
        const heart = document.createElement('div');
        heart.className = 'rain-heart';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (2 + Math.random() * 2) + 's';
        document.body.appendChild(heart);
        
        setTimeout(() => heart.remove(), 4000);
      }, 200);
    }

    // üéä CONFETTI FUNCTION üéä
    function createConfetti() {
      const colors = ['#ff3b8d', '#ff6b3d', '#8a2be2', '#ffd700', '#00ff88', '#ff1493'];
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = centerX + 'px';
        confetti.style.top = centerY + 'px';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.setProperty('--fall-distance', (200 + Math.random() * 400) + 'px');
        confetti.style.setProperty('--rotation', (Math.random() * 720 - 360) + 'deg');
        confetti.style.transform = `translate(${(Math.random() - 0.5) * 400}px, 0)`;
        
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3000);
      }
    }
  </script>
</body>
</html>
